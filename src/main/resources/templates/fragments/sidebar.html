<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<body>-->
<!-- Hamburger Menu for Mobile -->
<button class="sidebar-toggle-btn" onclick="toggleSidebar()" aria-label="Toggle Sidebar">
    <i class="bi bi-list"></i> <!-- Bootstrap icon for the hamburger menu -->
</button>

<div th:fragment="sidebar(role)"
     class="sidebar gradient-bg text-white position-fixed h-100"
     style="width: 200px; min-height: 100vh; filter: brightness(0.7) contrast(1.2); top: 0; left: 0; z-index: 1000;"
     xmlns:th="http://www.w3.org/1999/xhtml">

    <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
        <img src="/images/syntora.png" alt="Logo" style="height: 70px; filter: brightness(0.7) contrast(1.2);" class="me-2">
    </a>
    <hr>

    <!-- Admin Menu -->
    <ul class="nav nav-pills flex-column mb-auto"
        th:if="${role != null and role.equals('admin')}">

        <li>
            <a href="/admin"
               class="nav-link text-white"
               th:classappend="${requestURI == '/admin'} ? ' active'">
                <i class="bi bi-stickies me-2" style="color:white"></i> Sticky Notes
            </a>
        </li>

        <li>
            <a href="/api/generateResidentBill"
               class="nav-link text-white"
               th:classappend="${requestURI == '/api/generateResidentBill'} ? ' active'">
                <i class="bi bi-file-earmark-plus me-2"></i> Send Receipt
            </a>
        </li>

        <li>
            <a href="/api/form"
               class="nav-link text-white"
               th:classappend="${requestURI == '/api/form'} ? ' active'">
                <i class="bi bi-pencil-square me-2"></i> Update Bill Details
            </a>
        </li>

        <li>
            <a href="/api/resident_details"
               class="nav-link text-white"
               th:classappend="${requestURI == '/api/resident_details'} ? ' active'">
                <i class="bi bi-pencil-square me-2"></i> Resident Details
            </a>
        </li>

        <li>
            <a href="/api/notify_resident"
               class="nav-link text-white"
               th:classappend="${requestURI == '/api/notify_resident'} ? ' active'">
                <i class="bi bi-bell me-2"></i> Notify Residents
            </a>
        </li>
    </ul>

    <hr>
    <div>
        <a href="/logout" class="btn btn-outline-light w-100">
            <i class="bi bi-box-arrow-right me-2"></i> Logout
        </a>
    </div>
</div>

<style>
    /* Ensure links are solid white */
    .sidebar .nav-link {
        color: white !important;
    }

    /* Apply active link color */
    .sidebar .nav-link.active {
        background-color: #e3f2fd !important;
        color: #000 !important; /* Dark text for better visibility */
    }

    /* Optionally, make sure nav links change on hover */
    .sidebar .nav-link:hover {
        background-color: #d1e5ff !important; /* Lighter background for hover effect */
    }
</style>

<!-- Styles -->
<style>
    /* Sidebar styling */
    .sidebar {
        transition: transform 0.3s ease;
    }

    /* Make sure the links are solid white */
    .sidebar .nav-link {
        color: white !important;
    }

    /* Apply active link color */
    .sidebar .nav-link.active {
        background-color: #e3f2fd !important;
        color: #000 !important;
    }

    /* Make sure nav links change on hover */
    .sidebar .nav-link:hover {
        background-color: #d1e5ff !important;
    }

    /* Hamburger button (only visible on mobile) */
    .sidebar-toggle-btn {
        display: none;
        background: none;
        border: none;
        color: white;
        font-size: 30px;
        position: absolute;
        top: 20px;
        left: 20px;
        z-index: 1100; /* Ensure it's above the sidebar */
    }

    @media (max-width: 768px) {
        .sidebar {
            transform: translateX(-100%); /* Hide sidebar on mobile */
        }

        .sidebar.show {
            transform: translateX(0); /* Show sidebar */
        }

        .sidebar-toggle-btn {
            display: block; /* Show the hamburger menu button on mobile */
        }
    }
</style>

<!-- JavaScript -->
<script>
    function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.toggle('show');
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
<!--</body>-->
<!--</html>-->
